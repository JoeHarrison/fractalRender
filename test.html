<!DOCTYPE HTML>
<html lang="en">
 <head>
  <title>Edge detection demo</title>
  <script>
   var image = new Image();
   function init() {
     image.onload = demo;
     image.src = "2.png";
   }
   function demo() {
     var canvas = document.createElement('canvas');
     canvas.width = 2;
     canvas.height = 2;
     var context = canvas.getContext('2d');

     // draw the image onto the canvas
     context.drawImage(image, 0, 0);

     // get the image data to manipulate
     var input = context.getImageData(0, 0, canvas.width, canvas.height);

     h = input.height;
     var inputData = input.data;

     var im = [];

     for (var y = 0; y < input.height; y++) {
         im.push([]);
         for (var x = 0; x < input.width; x++) {
             var i = (y*input.width + x)*4;
             im[y].push([inputData[i], inputData[i+1], inputData[i+2], inputData[i+3]]);
        }
    }

   }
  </script>
 </head>
 <body onload="init()">
  <canvas></canvas>
 </body>
</html>
